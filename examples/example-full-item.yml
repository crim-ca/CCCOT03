id: model-name
version: 1.0.0-beta.2
description: a model
properties:
  name: squeezenet_v1.1
  description: squeezenet
  version: 1.0
  publisher:
    author: MXNet SDK team
    email: noreply@amazon.com
  license:
    title: MIT
    description: MIT license
    href: https://opensource.org/licenses/MIT
  providers:
    - name: CoolSat
      roles:
        - producer
        - licensor
      url: https://cool-sat.com/
  collection: CS3
  engine:                              # describe the execution envirronement
    name: MXNet
    version: 1.0
    model:handler: mxnet_vision_service:handle
    docker:image: awsdeeplearningteam/multi-model-server
    docker:run:  -itd --name mms -p 80:8080 -p 8081:8081 awsdeeplearningteam/multi-model-server multi-model-server --start --models squeezenet=<archive.mar>
  archive:                            # describe the content of the model archive
    content:
      - name: index_to_name.json
        roles:
        - output mapping
      - name: signature.json
        roles:
        - input signature
      - name: input_test.tif
        roles:
        - test
  inputs:
    name: data
    shape:batch: 1    # batch size
    shape:channels: 3 # number of channels
    shape:height: 224 # pixel height
    shape:width: 224  # pixel width
    test_file: 
      filename: input_test.tif
      selected_bands:
        - 0
        - 1
        - 3
    scaling: 0.003921569
    normalization:
      mean:
        - 0.245
        - 0.34
        - 0.67
      std:
        - 0.1
        - 0.1
        - 0.2
  outputs:
    task:semantic_segmentation:               # describe the task
      noutputs: 10
  architecture:                         # describe the model architecture
    parameters: 1034576
  data:                                 # describe the expected data
    eo:platform: Sentinel-2
    eo:instruments: OLI
    eo:gsd: 0.512,
    eo:process_levels: L1A
    eo:dtype: uint16
    eo:bands: 
      - name: B1
        common_name: coastal
        index: 0
      - name: B2
        common_name: blue
        index: 1
    json-metadata: # metadata about the test set
      href: http://cool-sat.com/catalog/CS3-20160503_132130_04/extended-metadata.json
      title: Extended Metadata,
      type: application/json,
      roles: 
        - metadata
    catalog: 
      href: sample-pangeo-cmip6-zarr-stores.csv
      title: test data catalog
      description: Path to a the CSV file with the catalog contents
      type: text/csv
      roles:
        - test-data-catalog
assets:
  - asset:
      href: http://cool-sat.com/catalog/datacube-123/data.nc
      type: application/netcdf
      title: netCDF Data cube
      roles: 
        - metadata
  - asset:
      href: http://cool-sat.com/catalog/datacube-123/data.nc
      type: image/tiff; application=geotiff
      title: netCDF Data cube
      roles: 
        - metadata
