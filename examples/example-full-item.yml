schema:version: 1.0.0-beta.2      # schema version
collection: a eo model catalog  # name of the model catalog
id: 11234                       # Some ID for this item
properties:
  name: squeezenet_v1.1         # short name of the model
  description: squeezenet       # short description
  version: 1.1                  # model version
  publisher:                    # information about the publisher
    author: MXNet SDK team
    email: noreply@amazon.com
  license:                      # license of utilisation
    title: MIT
    description: MIT license
    href: https://opensource.org/licenses/MIT
  providers:                    # provider information (data, etc.)
    - name: CoolSat
      roles:
        - producer
        - licensor
      url: https://cool-sat.com/
  sci:citation: 10.5061/dryad.s2v81.2/27.2 # proposed model citation (optional for the current record)
  sci:publications:                   # relevant publications
    - arxiv: 0707.0835                # arxiv preprints dont have doi
      citation: preprint
    - doi: 10.5061/dryad.s2v81.2
      citation: Vega GC, Pertierra LR, Olalla-Tárraga MÁ (2017) Data from MERRAclim, a high-resolution global dataset of remotely sensed bioclimatic variables for ecological modelling. Dryad Digital Repository.
    - doi: 10.1038/sdata.2017.78
      citation: Vega GC, Pertierra LR, Olalla-Tárraga MÁ (2017) MERRAclim, a high-resolution global dataset of remotely sensed bioclimatic variables for ecological modelling. Scientific Data 4 170078.
  engine:                              # describe the execution environment
    name: PyTorch                      # framework
    version: 1.5                       # framework version
    model:handler: mxnet_vision_service:handle
    model:src: https://github.com/
    docker:image: awsdeeplearningteam/multi-model-server:latest # image for the inference
    docker:run:  -itd --name mms -p 80:8080 -p 8081:8081 awsdeeplearningteam/multi-model-server multi-model-server --start --models squeezenet=<archive.mar>
  archive:                            # describe the content of the model archive
    content:
      - name: index_to_name.json
        roles:
        - output mapping
      - name: signature.json
        roles:
        - input signature
      - name: input_test.tif
        roles:
        - test
  inputs:             # information about the model input
    name: data        # expected variable name
    shape:batch: 1    # batch size
    shape:channels: 3 # number of channels
    shape:height: 224 # pixel height
    shape:width: 224  # pixel width
    test_file:        # optional test file included in the archive
      filename: input_test.tif
      selected_bands:
        - 0
        - 1
        - 3
    scaling: 0.003921569  # scaling factor (usually 1/255)
    normalization:        # input statistical normalization
      mean:
        - 0.245
        - 0.34
        - 0.67
      std:
        - 0.1
        - 0.1
        - 0.2
  outputs:
    task: semantic segmentation   # describe the task (enum)
    noutputs: 4                   # number of classes            
    index_to_name:                # mapping to names
      - 0: dontcare
      - 1: fields
      - 2: road
      - 3: building
  architecture:                         # describe the model architecture
    parameters: 1034576                 # total number of parameters
    type: resnet                        # type of architecture (enum)
  data:                                 # describe the expected data
    eo:platform: Sentinel-2
    eo:instruments: OLI
    eo:gsd: 0.512                       # resolution (meters)
    eo:process_level: L1A              # processing level (enum)
    eo:dtype: uint16                    # data type (enum)
    eo:nodata: 0                        # no data flag
    eo:bands: 
      - name: B1
        common_name: coastal
        index: 0
      - name: B2
        common_name: blue
        index: 1
    json-metadata: # metadata about the test set
      href: http://cool-sat.com/catalog/CS3-20160503_132130_04/extended-metadata.json
      title: Extended Metadata,
      type: application/json,
      roles: 
        - metadata
    catalog:                            # relevant catalog
      href: sample-pangeo-cmip6-zarr-stores.csv
      title: test data catalog
      description: Path to a the CSV file with the catalog contents
      type: text/csv
      roles:
        - test-data-catalog
assets:
  - asset:
      href: http://cool-sat.com/catalog/datacube-123/data.nc
      type: application/zip
      title: model archive
      roles: 
        - model_artefact
  - asset:
      href: http://cool-sat.com/catalog/datacube-123/data.nc
      type: image/tiff; application=geotiff
      title: netCDF Data cube
      roles: 
        - metadata
