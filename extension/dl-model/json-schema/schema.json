{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "DL Model Item",
	"description": "This object represents the metadata for a DL model item in a DL Catalog.",
	"allOf": [
		{
		  "$ref": "https://schemas.stacspec.org/v1.0.0-beta.2/item-spec/json-schema/item.json"
		},
		{
		  "$ref": "#/definitions/dl-model"
		},
		{
		  "$ref": "https://schemas.stacspec.org/v1.0.0-beta.2/item-spec/json-schema/instrument.json"
		},
		{
		  "$ref": "https://schemas.stacspec.org/v1.0.0-beta.2/item-spec/json-schema/licensing.json"
		},
		{
		  "$ref": "https://schemas.stacspec.org/v1.0.0-beta.2/item-spec/json-schema/provider.json"
		},
		{
		  "$ref": "https://schemas.stacspec.org/v1.0.0-beta.2/item-spec/json-schema/datetime.json"
		}
	],
	"definitions": {
		"dl-model": {
			"type": "object",
			"required": [
				"stac_extensions",
				"properties"
			],
			"properties": {
				"stac_extensions": {
					"type": "array",
					"contains": {
						"enum": [
							"dl-model",
							"https://example.com/dl-model/1.0/schema.json"
						]
					}
				},
				"properties": {
					"type": "object",
					"required": [
						"dlm:engine",
						"dlm:inputs",
						"dlm:outputs",
						"dlm:archive",
						"dlm:data"
					],
					"properties": {
						"dlm:engine": {
							"title": "Execution environement",
							"description": "Describe the execution environement",
							"type": "object",
							"required": [
								"framework",
								"version",
								"docker"
							],
							"properties": {
								"framework": {
									"title": "Name of the deep learning used",
									"type": "string"
								},
								"version": {
									"title": "Version du framework",
									"type": "string"
								},
								"model_handler": {
									"title": "Model handling function",
									"type": "string"
								},
								"model_src_url": {
									"title": "Model source repository",
									"type": "string"
								},
								"model_src_hash": {
									"title": "Hash value for the Model source",
									"type": "string"
								},
								"docker": {
									"title": "Docker container specifications",
									"type": "object",
									"properties": {
										"docker_file": {
											"title": "Docker file url",
											"type": "string"
										},
										"gpu": {
											"title": "Docker image requires a gpu",
											"type": "boolean"
										},

										"image_name": {
											"title": "Docker image name",
											"type": "string"
										},
										"tag": {
											"title": "Docker image tag",
											"type": "string"
										},
										"working_dir": {
											"title": "Docker container working dir",
											"type": "string"
										},
										"run": {
											"title": "Docker run parameters",
											"type": "string"
										}
									}
								}
							}	
						},
						"dlm:architecture": {
							"title": "Model architecture description",
							"description": "Describe the model architecture",
							"type": "object",
							"required": [
								"nb_parameters"
							],
							"properties": {
								"nb_parameters": {
									"title": "Total number of parameters in the model",
									"type": "number"
								},
								"type": {
									"title": "Type of architecture",
									"type": "string"
								},
								"summary": {
									"title": "Summary of the architecture",
									"type": "string"
								},
								"pretrained": {
									"title": "Pre-training",
									"type": "string"
								}
							}	
						},
						"dlm:inputs": {
							"title": "Description of the input tensor",
							"type": "object",
							"description": "Describe the inputs required by the model"
							
						},
						"dlm:outputs": {
							"title": "Description of the outputs of the model",
							"type": "object",
							"description": "Describe the outputs of the model"
							
						},
						"dlm:data": {
							"title": "Description of the data",
							"type": "object",
							"description": "Describe the data compatible with the model"
						},
						"dlm:archive": {
							"title": "Description of the archive content",
							"type": "object",
							"description": "Describe the model archive content"
							
						}
					}
				}
			}
		}
	}
}

	
